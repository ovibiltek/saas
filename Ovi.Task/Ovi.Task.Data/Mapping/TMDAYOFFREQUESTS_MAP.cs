using FluentNHibernate.Mapping;using Ovi.Task.Data.Configuration;using Ovi.Task.Data.Entity;namespace Ovi.Task.Data.Mapping{    public sealed class TMDAYOFFREQUESTS_MAP : ClassMap<TMDAYOFFREQUESTS>    {        public TMDAYOFFREQUESTS_MAP()        {            Id(x => x.DOR_ID);            Map(x => x.DOR_DESC).Length(PropertySettings.L250);            Map(x => x.DOR_ORGANIZATION).Length(PropertySettings.L50);            Map(x => x.DOR_ORGANIZATIONDESC).Formula("dbo.GetDesc('TMORGS','ORG_DESC', DOR_ORGANIZATION,(SELECT o.ORG_DESC FROM TMORGS o WHERE o.ORG_CODE = DOR_ORGANIZATION),:SessionContext.Language)");            Map(x => x.DOR_STATUSENTITY).Length(PropertySettings.L50);            Map(x => x.DOR_STATUS).Length(PropertySettings.L4);            Map(x => x.DOR_STATUSDESC).ReadOnly().Formula("dbo.GetDesc('TMSTATUSES','STA_DESC', DOR_STATUSENTITY + '#' + DOR_STATUS, (SELECT s.STA_DESC FROM TMSTATUSES s WHERE s.STA_CODE = DOR_STATUS AND s.STA_ENTITY = DOR_STATUSENTITY),:SessionContext.Language)");            Map(x => x.DOR_TYPEENTITY).Length(PropertySettings.L50);            Map(x => x.DOR_TYPE);            Map(x => x.DOR_TYPEDESC).ReadOnly().Formula("dbo.GetDesc('TMTYPES','TYP_DESC', DOR_TYPEENTITY + '#' + DOR_TYPE, (SELECT t.TYP_DESC FROM TMTYPES t WHERE t.TYP_CODE = DOR_TYPE AND t.TYP_ENTITY = DOR_TYPEENTITY) ,:SessionContext.Language)");            Map(x => x.DOR_START);            Map(x => x.DOR_END);            Map(x => x.DOR_DURATION);            Map(x => x.DOR_USER).Length(PropertySettings.L50);            Map(x => x.DOR_USERDESC).Formula("(SELECT u.USR_DESC FROM TMUSERS u WHERE u.USR_CODE = DOR_USER)");            Map(x => x.DOR_LASTAPPROVER).ReadOnly().Formula("(SELECT d.DRA_USER FROM TMDAYOFFREQUESTAPPROVERS d WHERE d.DRA_DORID = DOR_ID AND d.DRA_STATUSFROM = DOR_STATUS)");            Map(x => x.DOR_CANCELLATIONREASON);            Map(x => x.DOR_CANCELLATIONREASONDESC).Formula("dbo.GetDesc('TMCANCELLATIONREASONS','CNR_DESC', DOR_TYPE + '#' + DOR_CANCELLATIONREASON , (SELECT c.CNR_DESC FROM TMCANCELLATIONREASONS c WHERE c.CNR_ENTITY = DOR_TYPE AND c.CNR_CODE = DOR_CANCELLATIONREASON) , :SessionContext.Language)");
            Map(x => x.DOR_CREATED);            Map(x => x.DOR_CREATEDBY).Length(PropertySettings.L50);            Map(x => x.DOR_UPDATED);            Map(x => x.DOR_UPDATEDBY).Length(PropertySettings.L50);            Map(x => x.DOR_RECORDVERSION).Default("0");        }    }}