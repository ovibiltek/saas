using FluentNHibernate.Mapping;using Ovi.Task.Data.Configuration;using Ovi.Task.Data.Entity;namespace Ovi.Task.Data.Mapping{    public sealed class TMPLANNEDPARTS_MAP : ClassMap<TMPLANNEDPARTS>    {        public TMPLANNEDPARTS_MAP()        {            Id(x => x.PPA_ID);            Map(x => x.PPA_TASK);            Map(x => x.PPA_ACTIVITY);            Map(x => x.PPA_ACTIVITYDESC).ReadOnly().Formula("(SELECT ta.TSA_DESC FROM TMTASKACTIVITIES ta WHERE ta.TSA_LINE = PPA_ACTIVITY AND ta.TSA_TASK = PPA_TASK)");            Map(x => x.PPA_DATE);            Map(x => x.PPA_PART);            Map(x => x.PPA_PARTCODE).ReadOnly().Formula("(SELECT p.PAR_CODE FROM TMPARTS p WHERE p.PAR_ID = PPA_PART)");            Map(x => x.PPA_PARTDESC).ReadOnly().Formula("(SELECT p.PAR_DESC FROM TMPARTS p WHERE p.PAR_ID = PPA_PART)");            Map(x => x.PPA_QTY);            Map(x => x.PPA_PARTUOM).ReadOnly().Formula("(SELECT p.PAR_UOM FROM TMPARTS p WHERE p.PAR_ID = PPA_PART)");            Map(x => x.PPA_PARTUOMDESC).ReadOnly().Formula("(SELECT dbo.GetDesc('TMUOMS','UOM_DESC', p.PAR_UOM, (SELECT u.UOM_DESC FROM TMUOMS u WHERE u.UOM_CODE = p.PAR_UOM),:SessionContext.Language) FROM TMPARTS p WHERE p.PAR_ID = PPA_PART)");            Map(x => x.PPA_UNITPRICE);            Map(x => x.PPA_EXCH);            Map(x => x.PPA_CURR);            Map(x => x.PPA_CURRDESC).ReadOnly().Formula("dbo.GetDesc('TMCURRENCIES','CUR_DESC', PPA_CURR, (SELECT c.CUR_DESC FROM TMCURRENCIES c WHERE c.CUR_CODE = PPA_CURR), :SessionContext.Language)");            Map(x => x.PPA_TOTAL);            Map(x => x.PPA_CREATED);            Map(x => x.PPA_CREATEDBY).Length(PropertySettings.L50);            Map(x => x.PPA_UPDATED);            Map(x => x.PPA_UPDATEDBY);            Map(x => x.PPA_RECORDVERSION).Length(PropertySettings.L50);        }    }}